(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],Array(27).concat([function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(19),i=a.n(n),o=(a(27),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,58)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),c(e),s(e),n(e),i(e)}))}),r=a(4),l=a(17),j=a(2),d=(a(28),a(3)),h=(a(29),a(30),a.p+"static/media/imagePlanet.ed1c30aa.png"),b=a(0),m=function(){return Object(b.jsx)("section",{className:"promo",children:Object(b.jsxs)("div",{className:"promo__container",children:[Object(b.jsxs)("div",{className:"promo__text",children:[Object(b.jsx)("h1",{className:"promo__heading",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431\u2011\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(b.jsx)("p",{className:"promo__paragraph",children:"\u041b\u0438\u0441\u0442\u0430\u0439 \u043d\u0438\u0436\u0435, \u0447\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043f\u0440\u043e \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442 \u0438 \u0435\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044f."}),Object(b.jsx)("a",{className:"promo__link",href:"/movies",children:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435"})]}),Object(b.jsx)("img",{className:"promo__image",src:h,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})]})})},u=(a(32),function(){return Object(b.jsx)("section",{className:"AboutProject",children:Object(b.jsxs)("div",{className:"AboutProject__container",children:[Object(b.jsx)("h2",{className:"AboutProject__heading text",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(b.jsxs)("div",{className:"AboutProject__block",children:[Object(b.jsxs)("div",{className:"AboutProject__description_first_text",children:[Object(b.jsx)("p",{className:"AboutProject__text",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(b.jsx)("p",{className:"AboutProject__paragraph",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(b.jsxs)("div",{className:"AboutProject__description_second_text",children:[Object(b.jsx)("p",{className:"AboutProject__text",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(b.jsx)("p",{className:"AboutProject__paragraph",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0435\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(b.jsxs)("div",{className:"AboutProject__graph",children:[Object(b.jsxs)("div",{className:"AboutProject__grant",children:[Object(b.jsx)("div",{className:"AboutProject__graph_first_block AboutProject__graph-text",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(b.jsx)("p",{className:"AboutProject__signature",children:"Back-end"})]}),Object(b.jsxs)("div",{div:!0,className:"AboutProject__grant",children:[Object(b.jsx)("div",{className:"AboutProject__graph_second_block AboutProject__graph-text",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"}),Object(b.jsx)("p",{className:"AboutProject__signature",children:"Front-end"})]})]})]})})}),_=(a(33),function(){return Object(b.jsx)("section",{className:"Techs",children:Object(b.jsxs)("div",{className:"Techs__container",children:[Object(b.jsx)("p",{className:"Techs__text text",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(b.jsxs)("div",{className:"Techs__block",children:[Object(b.jsx)("h2",{className:"Techs__heading",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(b.jsx)("p",{className:"Techs__description",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."})]}),Object(b.jsxs)("ul",{className:"Techs__list",children:[Object(b.jsx)("li",{className:"Techs__column",children:"HTML"}),Object(b.jsx)("li",{className:"Techs__column",children:"CSS"}),Object(b.jsx)("li",{className:"Techs__column",children:"JS"}),Object(b.jsx)("li",{className:"Techs__column",children:"React"}),Object(b.jsx)("li",{className:"Techs__column",children:"Git"}),Object(b.jsx)("li",{className:"Techs__column",children:"Express.js"}),Object(b.jsx)("li",{className:"Techs__column",children:"mongoDB"})]})]})})}),g=(a(34),a.p+"static/media/photo.5ef5a5c0.png"),v=function(){return Object(b.jsx)("section",{className:"AboutMe",children:Object(b.jsxs)("div",{className:"AboutMe__container",children:[Object(b.jsx)("p",{className:"AboutMe__heading text",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(b.jsxs)("div",{className:"AboutMe__main",children:[Object(b.jsxs)("div",{className:"AboutMe__block",children:[Object(b.jsx)("h2",{className:"AboutMe__name",children:"\u0418\u043b\u044c\u044f"}),Object(b.jsx)("p",{className:"AboutMe__description",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 20 \u043b\u0435\u0442"}),Object(b.jsx)("p",{className:"AboutMe__text",children:'\u0423\u0447\u0443\u0441\u044c \u0432 \u041c\u0413\u0422\u0423 \u0438\u043c.\u0411\u0430\u0443\u043c\u0430\u043d\u0430 \u043d\u0430 \u043a\u0430\u0444\u0435\u0434\u0440\u0435 "\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u0430\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c". \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043f\u0440\u0438\u0432\u043b\u0435\u043a\u0430\u0435\u0442 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043d\u0435\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u043c\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044f\u043c\u0438: \u0432\u043f\u0435\u0447\u0430\u0442\u043b\u0435\u043d\u0438\u0435 \u043e\u0442 \u0434\u0438\u0437\u0430\u0439\u043d\u0430 \u043c\u043e\u0436\u043d\u043e \u0443\u0441\u0438\u043b\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c\u044e, \u043f\u0440\u0438\u0434\u0443\u043c\u0430\u0442\u044c \u043a\u0430\u043a\u0443\u044e-\u0442\u043e \u0444\u0438\u0448\u043a\u0443 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0433\u0440\u0443\u043f\u043f\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439. \u0412 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u0435 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u044e\u0442 \u044f\u0437\u044b\u043a \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f C++, \u043d\u043e \u043e\u043d \u043c\u043d\u0435 \u0441\u0440\u0430\u0437\u0443 \u043d\u0435 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f. \u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u0440\u0435\u0448\u0438\u043b \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0447\u0442\u043e-\u0442\u043e \u043d\u043e\u0432\u043e\u0435, \u0438 \u0432\u044b\u0431\u043e\u0440 \u043f\u0430\u043b \u043d\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0443. \u042f \u043f\u043e\u043d\u044f\u043b, \u0447\u0442\u043e \u044d\u0442\u043e \u043c\u043e\u0435, \u0438 \u043d\u0435 \u043e\u0448\u0438\u0431\u0441\u044f \u0432 \u0441\u0432\u043e\u0451\u043c \u0432\u044b\u0431\u043e\u0440\u0435.'}),Object(b.jsxs)("ul",{className:"AboutMe__list",children:[Object(b.jsx)("li",{className:"AboutMe__column",children:Object(b.jsx)("a",{className:"AboutMe__link",href:"https://github.com/YodJI27",target:"_blank",rel:"noreferrer",children:"Github"})}),Object(b.jsx)("li",{className:"AboutMe__column",children:Object(b.jsx)("a",{className:"AboutMe__link",href:"https://career.habr.com/yodji27",target:"_blank",rel:"noreferrer",children:"Habr"})})]})]}),Object(b.jsx)("img",{className:"AboutMe__image",src:g,alt:"\u0424\u043e\u0442\u043e"})]})]})})},O=(a(35),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAARCAYAAADQWvz5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACHSURBVHgBpc9tDYAgEIDhwxnACEYwAhG0gQ2soEnQJFbRJHhu98OdfNzBu7HbGDwDA5+89xaHA31TG9jsQV/HoQvXBvmW9zLUhN93/p/VGBxZiyCO0J4OCiFqKIaooBQihnKICJIgWUiKJCENEoUYsoMgPHfSGooRXkPzpnkYY2aoCV8yQkUP2Pw30BtNwcwAAAAASUVORK5CYII="),x=function(){return Object(b.jsx)("section",{className:"Portfolio",children:Object(b.jsxs)("div",{className:"Portfolio__container",children:[Object(b.jsx)("h2",{className:"Portfolio__heading",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(b.jsxs)("ul",{className:"Portfolio__block",children:[Object(b.jsxs)("li",{className:"Portfolio__column",children:[Object(b.jsx)("p",{className:"Portfolio__text",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(b.jsx)("a",{className:"Portfolio__link",href:"https://yodji27.github.io/how-to-learn/",target:"_blank",rel:"noreferrer",children:Object(b.jsx)("img",{className:"Portfolio__image",src:O,alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430"})})]}),Object(b.jsxs)("li",{className:"Portfolio__column",children:[Object(b.jsx)("p",{className:"Portfolio__text",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(b.jsx)("a",{className:"Portfolio__link",href:"https://yodji27.github.io/russian-travel/",target:"_blank",rel:"noreferrer",children:Object(b.jsx)("img",{className:"Portfolio__image",src:O,alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430"})})]}),Object(b.jsxs)("li",{className:"Portfolio__column",children:[Object(b.jsx)("p",{className:"Portfolio__text",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(b.jsx)("a",{className:"Portfolio__link",href:"https://mesto.students.nomoredomains.club",target:"_blank",rel:"noreferrer",children:Object(b.jsx)("img",{className:"Portfolio__image",src:O,alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430"})})]})]})]})})},p=function(e){return Object(b.jsxs)("main",{className:"main",children:[Object(b.jsx)(m,{}),Object(b.jsx)(u,{}),Object(b.jsx)(_,{}),Object(b.jsx)(v,{}),Object(b.jsx)(x,{})]})},f=(a(36),a(37),function(e){return Object(b.jsxs)("label",{className:"switch",onChange:e.onChange,children:[Object(b.jsx)("input",{type:"checkbox"}),Object(b.jsx)("span",{className:"slider round"})]})}),A=function(e){var t=Object(c.useState)(!1),a=Object(j.a)(t,2),s=a[0],n=a[1],i=function(e,t){return e.nameRU.toLowerCase().includes(t.toLowerCase())},o=function(e,t){return e.nameRU.toLowerCase().includes(t.toLowerCase())};return Object(b.jsx)("section",{className:"SearchForm",children:Object(b.jsxs)("div",{className:"SearchForm__container",children:[Object(b.jsxs)("form",{className:"SearchForm__search",onSubmit:e.isToggle?function(t){t.preventDefault();var a,c,n=(a=e.savedMovies,c=e.savedSearch,s?a.filter((function(e){return e.duration<=40&&o(e,c)})):a.filter((function(e){return o(e,c)})));e.updateFilteredSavedMovies(n)}:function(t){t.preventDefault();var a,c,n=(a=e.localStorageMovies,c=e.value,s?a.filter((function(e){return e.duration<=40&&i(e,c)})):a.filter((function(e){return i(e,c)})));e.addFilteredMovie(n)},children:[Object(b.jsx)("input",{className:"SearchForm__film",placeholder:"\u0424\u0438\u043b\u044c\u043c",size:"30",value:e.isToggle?e.savedSearch:e.value,onChange:e.isToggle?e.handleSearchSaved:e.handleSearch}),Object(b.jsx)("button",{className:"SearchForm__circle",onClick:e.editMovies,type:"submit",children:Object(b.jsx)("img",{className:"SearchFrom__image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAOCAYAAADjXQYbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABZSURBVHgBjZBdCQAgDISHCYxgBJtpA21kJKNMBxNlnOLBHsZ97OeImbuWJys1RA2Z4QAKAiJvZQTkA4gIqGrKmoCAtgBHv5Jr4djZJHjQ9RUTQrV7nvFdgx9YRKwmYvnXpAAAAABJRU5ErkJggg==",alt:"\u0438\u043a\u043e\u043d\u043a\u0430"})})]}),Object(b.jsxs)("div",{className:"SearchFrom__block",children:[Object(b.jsx)("p",{className:"SearchFrom__text",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"}),Object(b.jsx)(f,{onChange:function(){n(!s)}})]})]})})},N=(a(38),a(39),a.p+"static/media/no_image.25cdbad7.jpg"),S=function(e){var t,a=e.movie,c="https://api.nomoreparties.co",s=e.savedMovies.some((function(e){return e.nameRU===a.nameRU})),n="MoviesCard__like ".concat(s?"cards__like_active":"");return Object(b.jsxs)("div",{className:"MoviesCard",children:[Object(b.jsx)("a",{className:"MovieCard__link",href:e.movie.trailerLink,target:"_blank",rel:"noreferrer",children:Object(b.jsx)("img",{className:"MoviesCard__image",src:"".concat(null===e.movie.image?N:"https://api.nomoreparties.co".concat(e.movie.image.url)),alt:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430 \u0444\u0438\u043b\u044c\u043c\u0430"})}),Object(b.jsxs)("div",{className:"MoviesCard__block",children:[Object(b.jsx)("h2",{className:"MoviesCard__text",children:e.movie.nameRU}),Object(b.jsx)("button",{className:n,type:"button",onClick:s?function(t){t.preventDefault();var c=e.savedMovies.find((function(e){return e.movieId===a.id}));e.handleRemoveSaveMovie(c._id)}:function(t){if(t.preventDefault(),!s){var n={country:a.country,director:a.director,duration:a.duration,year:a.year,description:a.description,image:"".concat(c).concat(a.image.url),trailer:a.trailerLink,thumbnail:"".concat(c).concat(a.image.formats.thumbnail.url),movieId:a.id,nameRU:a.nameRU,nameEN:a.nameEN};e.handleSaveMovie(n)}}})]}),Object(b.jsx)("p",{className:"MoviesCard__time",children:(t=e.movie.duration,t<=60?t+"\u043c":Math.floor(t/60)+" \u0447 "+t%60+" \u043c")})]})},M=(a(40),function(e){return Object(b.jsx)("section",{className:"MoviesCardList",children:e.isMovies?0===e.movieCard.length?Object(b.jsx)("p",{className:"text__error",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}):Object(b.jsx)("div",{className:"MoviesCardList__container-movies",children:e.movieCard.map((function(t){return Object(b.jsx)(S,{movie:t,handleSaveMovie:e.handleSaveMovie,savedMovies:e.savedMovies,isToggle:e.isToggle,handleRemoveSaveMovie:e.handleRemoveSaveMovie,handleDisableIsLoaded:e.handleDisableIsLoaded},t.id)}))}):Object(b.jsx)("p",{className:"text__error",children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 \u0438\u043b\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u043c"})})}),C=(a(41),function(){return Object(b.jsx)("div",{className:"preloader",children:Object(b.jsx)("div",{className:"preloader__container",children:Object(b.jsx)("span",{className:"preloader__round"})})})}),R=function(e){var t,a;e.windowWidth>920?(t=12,a=4):e.windowWidth>500?(t=8,a=2):e.windowWidth<=500&&(t=5,a=2);var s=Object(c.useState)(t),n=Object(j.a)(s,2),i=n[0],o=n[1];return Object(c.useEffect)((function(){e.handleLoggenIn()})),Object(b.jsxs)("section",{className:"Movies",children:[Object(b.jsx)(A,{handleSearch:e.handleSearch,value:e.search,localStorageMovies:e.localStorageMovies,addFilteredMovie:e.addFilteredMovie,isToggle:e.isToggle,editMovies:e.editMovies}),e.isLoaded?Object(b.jsx)(C,{}):Object(b.jsx)(M,{movieCard:0!==e.filteredMovies.length?e.filteredMovies.slice(0,i):0!==e.localStorageMovies.length?e.localStorageMovies.slice(0,i):"",isMovies:e.isMovies,localStorageMovies:e.localStorageMovies,value:e.search,filter:e.filteredMovies,handleSaveMovie:e.handleSaveMovie,savedMovies:e.savedMovies,isToggle:e.isToggle,handleRemoveSaveMovie:e.handleRemoveSaveMovie}),Object(b.jsx)("div",{className:"Movies__block",children:Object(b.jsx)("button",{className:"Movies__button ".concat(i>=e.filteredMovies.length&&i>=e.localStorageMovies.length?"Movies__button-disable":""),type:"button",onClick:function(){o(i+a)},children:"\u0415\u0449\u0435"})})]})},w=(a(42),a(43),function(e){var t;return Object(b.jsxs)("div",{className:"MoviesCard",children:[Object(b.jsx)("a",{className:"MovieCard__link",href:e.movie.trailer,target:"_blank",rel:"noreferrer",children:Object(b.jsx)("img",{className:"MoviesCard__image",src:"".concat(null===e.movie.image?N:e.movie.image),alt:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430 \u0444\u0438\u043b\u044c\u043c\u0430"})}),Object(b.jsxs)("div",{className:"MoviesCard__block",children:[Object(b.jsx)("h2",{className:"MoviesCard__text",children:e.movie.nameRU}),Object(b.jsx)("button",{className:"MoviesCard__button",onClick:function(t){t.preventDefault(),e.handleRemoveSaveMovie(e.movie._id)}})]}),Object(b.jsx)("p",{className:"MoviesCard__time",children:(t=e.movie.duration,t<=60?t+"\u043c":Math.floor(t/60)+" \u0447 "+t%60+" \u043c")})]})}),T=function(e){return Object(b.jsx)("section",{className:"MoviesCardList",children:0!==e.filteredSavedMovieList.length?Object(b.jsx)("div",{className:"MoviesCardList__container-movies MoviesCardList__container-low",children:e.filteredSavedMovieList.map((function(t){return Object(b.jsx)(w,{movie:t,handleRemoveSaveMovie:e.handleRemoveSaveMovie,isToggle:e.isToggle},t._id)}))}):Object(b.jsx)("p",{className:"text__error text__error-saved",children:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"})})},k=(a(44),function(e){return Object(c.useEffect)((function(){e.handleLoggenIn()})),Object(b.jsxs)("section",{className:"SavedMovies",children:[Object(b.jsx)(A,{handleSearchSaved:e.handleSearchSaved,isToggle:e.isToggle,savedSearch:e.savedSearch,updateFilteredSavedMovies:e.updateFilteredSavedMovies,savedMovies:e.savedMovies}),e.isLoaded?Object(b.jsx)(C,{}):Object(b.jsx)(T,{savedMovies:e.savedMovies,handleRemoveSaveMovie:e.handleRemoveSaveMovie,isToggle:e.isToggle,filteredSavedMovieList:e.filteredSavedMovieList})]})}),P=(a(45),Object(c.createContext)()),E=function(e){var t=Object(c.useContext)(P);Object(c.useEffect)((function(){e.handleLoggenIn(),i(t.name),d(t.email)}),[t.name,t.email,e]);var a=Object(c.useState)(""),s=Object(j.a)(a,2),n=s[0],i=s[1],o=Object(c.useState)(""),r=Object(j.a)(o,2),l=r[0],d=r[1],h=Object(c.useState)(""),m=Object(j.a)(h,2),u=m[0],_=m[1],g=Object(c.useState)(""),v=Object(j.a)(g,2),O=v[0],x=v[1],p=Object(c.useState)(!1),f=Object(j.a)(p,2),A=f[0],N=f[1],S=Object(c.useState)(!1),M=Object(j.a)(S,2),C=M[0],R=M[1];return Object(b.jsx)("section",{className:"profile",children:Object(b.jsxs)("div",{className:"profile__container",children:[Object(b.jsxs)("h2",{className:"profile__heading",children:[" \u041f\u0440\u0438\u0432\u0435\u0442, ",t.name,"!"]}),Object(b.jsxs)("label",{className:"profile__label",children:[Object(b.jsx)("p",{className:"profile__text",children:"\u0418\u043c\u044f"}),Object(b.jsx)("input",{className:"profile__name",id:"name-input",type:"text",value:n||"",maxLength:"40",name:"name",minLength:"2",required:!0,onChange:function(e){i(e.target.value),e.target.value?e.target.value.length<=2?(x("\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0434\u0432\u0443\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),N(!1)):(x(""),N(!0)):(x("\u0418\u043c\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),N(!1))}})]}),Object(b.jsx)("span",{className:"Register__validation",children:O}),Object(b.jsxs)("label",{className:"profile__block",children:[Object(b.jsx)("p",{className:"profile__text",children:"E-mail"}),Object(b.jsx)("input",{className:"profile__name",type:"email",id:"email-input",value:l||"",required:!0,onChange:function(e){d(e.target.value);e.target.value?/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(String(e.target.value).toLowerCase())?(_(""),R(!0)):(_("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"),R(!1)):(_("Email \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),R(!1))}})]}),Object(b.jsx)("span",{className:"Register__validation",children:u}),Object(b.jsx)("p",{className:"text__error",children:e.messageProfile}),Object(b.jsx)("button",{className:"profile__reg ".concat(A&&C?"":"profile__reg-disable"),disabled:!A||!C,type:"submit",onClick:function(t){t.preventDefault(),e.handleChangeUser(n,l)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(b.jsx)("button",{className:"profile__logOut",onClick:e.handleLogOut,children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})})},F=(a(46),function(e){var t=Object(c.useState)(""),a=Object(j.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(""),o=Object(j.a)(i,2),l=o[0],d=o[1],h=Object(c.useState)(""),m=Object(j.a)(h,2),u=m[0],_=m[1],g=Object(c.useState)(""),v=Object(j.a)(g,2),O=v[0],x=v[1],p=Object(c.useState)(!1),f=Object(j.a)(p,2),A=f[0],N=f[1],S=Object(c.useState)(!1),M=Object(j.a)(S,2),C=M[0],R=M[1];return Object(b.jsx)("section",{className:"Register",children:Object(b.jsxs)("form",{className:"Register__container",onSubmit:function(t){t.preventDefault(),e.handleLoginUser(s,l)},children:[Object(b.jsxs)("label",{className:"Register__label",children:[Object(b.jsx)("p",{className:"Register__text",type:"email",children:"E-mail"}),Object(b.jsx)("input",{className:"Register__input ".concat(0===u.length?"":"Register__err"),size:"44",onChange:function(e){e.preventDefault(),n(e.target.value);e.target.value?/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(String(e.target.value).toLowerCase())?(_(""),R(!0)):(_("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"),R(!1)):(_("Email \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),R(!1))},value:s||""}),Object(b.jsx)("span",{className:"Register__validation",children:u})]}),Object(b.jsxs)("label",{className:"Register__label",children:[Object(b.jsx)("p",{className:"Register__text",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsx)("input",{className:"Register__input ".concat(0===O.length?"":"Register__err"),type:"password",size:"44",onChange:function(e){e.preventDefault(),d(e.target.value),e.target.value?e.target.value.length<8?(x("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),N(!1)):(x(""),N(!0)):(x("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),N(!1))},value:l||""}),Object(b.jsx)("span",{className:"Register__validation",children:O})]}),Object(b.jsx)("button",{className:"Register__button ".concat(C&&A?"":"Register__button-disable"),disabled:!A||!C,type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(b.jsxs)("p",{className:"Register__reg Register__reg-login",children:["\u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(b.jsx)(r.b,{className:"Register__link",to:"/signup",children:"\xa0\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})})}),B=(a(52),function(e){var t=Object(c.useState)(""),a=Object(j.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(""),o=Object(j.a)(i,2),l=o[0],d=o[1],h=Object(c.useState)(""),m=Object(j.a)(h,2),u=m[0],_=m[1],g=Object(c.useState)(""),v=Object(j.a)(g,2),O=v[0],x=v[1],p=Object(c.useState)(""),f=Object(j.a)(p,2),A=f[0],N=f[1],S=Object(c.useState)(""),M=Object(j.a)(S,2),C=M[0],R=M[1],w=Object(c.useState)(!1),T=Object(j.a)(w,2),k=T[0],P=T[1],E=Object(c.useState)(!1),F=Object(j.a)(E,2),B=F[0],L=F[1],y=Object(c.useState)(!1),I=Object(j.a)(y,2),U=I[0],z=I[1];return Object(b.jsx)("section",{className:"Register",children:Object(b.jsxs)("form",{className:"Register__container",onSubmit:function(t){t.preventDefault(),e.handleRegisterUser(s,l,u)},children:[Object(b.jsxs)("label",{className:"Register__label",children:[Object(b.jsx)("p",{className:"Register__text",children:"\u0418\u043c\u044f"}),Object(b.jsx)("input",{className:"Register__input ".concat(0===C.length?"":"Register__err"),type:"text",size:"44",maxLength:"40",minLength:"2",onChange:function(e){e.preventDefault(),n(e.target.value),e.target.value?e.target.value.length<=2?(R("\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0434\u0432\u0443\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),P(!1)):(R(""),P(!0)):(R("\u0418\u043c\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),P(!1))},value:s||""}),Object(b.jsx)("span",{className:"Register__validation",children:C})]}),Object(b.jsxs)("label",{className:"Register__label",children:[Object(b.jsx)("p",{className:"Register__text",type:"email",children:"E-mail"}),Object(b.jsx)("input",{className:"Register__input ".concat(0===O.length?"":"Register__err"),onChange:function(e){e.preventDefault(),d(e.target.value);e.target.value?/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(String(e.target.value).toLowerCase())?(x(""),z(!0)):(x("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"),z(!1)):(x("Email \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),z(!1))},value:l||"",size:"44",type:"text",name:"email"}),Object(b.jsx)("span",{className:"Register__validation",children:O})]}),Object(b.jsxs)("label",{className:"Register__label",children:[Object(b.jsx)("p",{className:"Register__text",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsx)("input",{className:"Register__input ".concat(0===A.length?"":"Register__err"),type:"password",size:"44",name:"password",onChange:function(e){e.preventDefault(),_(e.target.value),e.target.value?e.target.value.length<8?(N("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),L(!1)):(N(""),L(!0)):(N("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),L(!1))},value:u||""}),Object(b.jsx)("span",{className:"Register__validation",children:A})]}),Object(b.jsx)("button",{type:"submit",className:"Register__button ".concat(k&&B&&U?"":"Register__button-disable"),disabled:!(k&&B&&U),children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(b.jsxs)("p",{className:"Register__reg",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(b.jsx)(r.b,{className:"Register__link",to:"/signin",children:"\xa0\u0412\u043e\u0439\u0442\u0438"})]})]})})}),L=(a(53),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAMAAACf4xmcAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAACxMAAAsTAQCanBgAAABpUExURUdwTDzchTvchEDXgD3chD3dhTzbgz3dhD3cgz3chTjXgEDTgDzbgz7dhTrahT3Zgz3cg////z3chOf78M/24IXpslXhk/P9+GHjm57uwW7lo5Lrutv46KrwyvP990nei3rnq7fy0cP02S2JLqkAAAARdFJOUwCvcCDP34DvYN8gEEB/MFBQuZvp/gAAAUFJREFUGBl9wQd22zAQBcDPugDVsh+sarZz/0PGlBQsqEdxBgv7PPNCSpnlR3ywO3gmKtdgxUH4pjrgXVFyRdVgwQlXyQkJx48cohM3OLwUwg3S4KniphIPBya+puugQ9sxUeNXUdFcBn0KPSPZAXA0F40CTQ2gYtQHNSOjCjjSfGviTLNHTjPpbOqDqoaeJkdGc9PZdWTXtiMTGUqaiz6FrudCBaE563/hwpSAqZtGE1Pgwk2jMxMQLpz/6ktLI/BMdD+3vu+Czu40JTKaSVXvF37rA02GnCborL3q7E6TY0+jqZbmCHhGrSY6Rh5AzWgcNLrSOAA7YTQGfWm/GPkGv2omunZQDT9nJmo8lNzk8VQIN0iDF8cNJ0SOHzkk/ghXicNC4bmibPCu9nwjNVYUzjPh6x0+OOZZKaT4LN8j9Q9fI0+GA5vk7gAAAABJRU5ErkJggg=="),y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACJSURBVHgBhZABDYAgFETBBEbABGoDI2gDbWADs5hEK5gAG2CD7+FwMvnAbW9sxx3sfyEYEVEDOpETQj0w9ElbLxZWFFfz5gqvsyQ+H7mCShRqrnAkCmfguM3EpNhn3Ja0FzTslmCWYAYb87r1xn9YU176GVpKeeFcXX8HE6hACwbvbg2GFhH5Q99BE8kyjTl4BQAAAABJRU5ErkJggg==",I=(a(54),function(){return Object(b.jsxs)("div",{className:"burger",children:[Object(b.jsx)("input",{id:"menu__toggle",type:"checkbox"}),Object(b.jsx)("label",{className:"Hamburger",htmlFor:"menu__toggle",children:Object(b.jsx)("span",{})}),Object(b.jsxs)("ul",{className:"menu__box",children:[Object(b.jsx)("li",{className:"header__burger-case",children:Object(b.jsx)(r.b,{className:"header__movies header__movies-burger",to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(b.jsx)("li",{className:"header__burger-case",children:Object(b.jsx)(r.b,{className:"header__movies header__movies-burger",to:"/movies",children:"\u0424\u0438\u043b\u044c\u043c\u044b"})}),Object(b.jsx)("li",{className:"header__burger-case",children:Object(b.jsx)(r.b,{className:"header__savedMovies header__saveMovies-burger",to:"/saved-movies",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})}),Object(b.jsxs)("li",{className:"header__burger-case header__burger_case_profile",children:[Object(b.jsx)(r.b,{className:"header__profile header__profile-burger",to:"/profile",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(b.jsx)(r.b,{className:"header__block header__block-burger",to:"/profile",children:Object(b.jsx)("img",{className:"header__image header__image-burger",src:y,alt:"\u0418\u043a\u043e\u043d\u043a\u0430"})})]})]})]})}),U=function(e){var t=Object(d.h)();return Object(b.jsx)("header",{className:"header ".concat("/signup"===t.pathname||"/signin"===t.pathname||"/movies"===t.pathname||"/saved-movies"===t.pathname||"/profile"===t.pathname?"header__dark":""),id:"header",children:Object(b.jsx)("div",{className:"header__container header__container-movies",children:"/signup"===t.pathname?Object(b.jsxs)("div",{className:"header__sign",children:[Object(b.jsx)(r.b,{to:"/",children:Object(b.jsx)("img",{className:"header__logo-signup",src:L,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})}),Object(b.jsx)("h2",{className:"header__sign-text",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"})]}):"/signin"===t.pathname?Object(b.jsxs)("div",{className:"header__sign",children:[Object(b.jsx)(r.b,{to:"/",children:Object(b.jsx)("img",{className:"header__logo-signup",src:L,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})}),Object(b.jsx)("h2",{className:"header__sign-text",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"})]}):"/movies"===t.pathname||"/"===t.pathname||"/saved-movies"===t.pathname||"/profile"===t.pathname?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(r.b,{to:"/",children:Object(b.jsx)("img",{className:"header__logo",src:L,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})}),e.loggedIn?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(I,{}),Object(b.jsxs)("div",{className:"header__burger",children:[Object(b.jsx)(r.b,{className:"header__movies header__animation",to:"/movies",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(b.jsx)(r.b,{className:"header__savedMovies header__animation",to:"/saved-movies",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(b.jsx)(r.b,{className:"header__profile header__animation",to:"/profile",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(b.jsx)(r.b,{className:"header__block header__animation",to:"/profile",children:Object(b.jsx)("img",{className:"header__image",src:y,alt:"\u0418\u043a\u043e\u043d\u043a\u0430"})})]})]}):Object(b.jsxs)("div",{className:"header__text-box",children:[Object(b.jsx)(r.b,{className:"header__text header__text-reg",to:"/signup",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(b.jsx)(r.b,{className:"header__text header__log",to:"/signin",children:Object(b.jsx)("p",{className:"header__description",children:"\u0412\u043e\u0439\u0442\u0438"})})]})]}):void 0})})},z=(a(55),function(e){var t=Object(d.h)();return Object(b.jsx)("section",{className:"Footer ".concat("/profile"===t.pathname||"/signup"===t.pathname||"/signin"===t.pathname||e.disableFooter?"Footer__disable":""),children:Object(b.jsxs)("div",{className:"Footer__container",children:[Object(b.jsx)("h2",{className:"Footer__heading",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c x BeatFilm."}),Object(b.jsxs)("div",{className:"Footer__block",children:[Object(b.jsxs)("p",{className:"Footer__copyright",children:["\xa9 ",(new Date).getFullYear()]}),Object(b.jsxs)("ul",{className:"Footer__list",children:[Object(b.jsx)("li",{className:"Footer__link",children:Object(b.jsx)("a",{className:"Footer__text",href:"https://github.com/YodJI27",target:"_blank",rel:"noreferrer",children:"Github"})}),Object(b.jsx)("li",{className:"Footer__link",children:Object(b.jsx)("a",{className:"Footer__text",href:"https://career.habr.com/yodji27",target:"_blank",rel:"noreferrer",children:"Habr"})}),Object(b.jsx)("li",{className:"Footer__link",children:Object(b.jsx)("a",{className:"Footer__text",href:"https://www.instagram.com/shn_ilya/",target:"_blank",rel:"noreferrer",children:"Instagram"})})]})]})]})})}),D=(a(56),function(e){return Object(c.useEffect)((function(){e.handleDisableFooter()})),Object(b.jsx)("section",{className:"PageNotFound",children:Object(b.jsxs)("div",{className:"PageNotFound__container",children:[Object(b.jsx)("h2",{className:"PageNotFount__error",children:"404"}),Object(b.jsx)("p",{className:"PageNotFound__text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(b.jsx)(r.b,{className:"PageNotFound__link",to:"/",children:"\u041d\u0430\u0437\u0430\u0434"})]})})}),Q=function(){var e="object"===typeof window,t=Object(c.useState)(e?window.innerWidth:null),a=Object(j.a)(t,2),s=a[0],n=a[1];return Object(c.useEffect)((function(){function t(){n(window.innerWidth)}if(e)return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[e,n]),s},J="https://api.mydiploma.students.nomoredomains.monster";function G(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status," - ").concat(e.statusText)))}var Y=a(21),Z=a(22),H=function(e){var t=e.component,a=Object(Z.a)(e,["component"]);return Object(b.jsx)(d.b,{children:function(){return a.loggedIn?Object(b.jsx)(t,Object(Y.a)({},a)):Object(b.jsx)(d.a,{to:"/signin"})}})},X=function(){var e=s.a.useState(!1),t=Object(j.a)(e,2),a=t[0],n=t[1],i=s.a.useState(!1),o=Object(j.a)(i,2),r=o[0],h=o[1],m=s.a.useState({}),u=Object(j.a)(m,2),_=u[0],g=u[1],v=s.a.useState(!1),O=Object(j.a)(v,2),x=O[0],f=O[1],A=s.a.useState(""),N=Object(j.a)(A,2),S=N[0],M=N[1],C=s.a.useState(""),w=Object(j.a)(C,2),T=w[0],L=w[1],y=JSON.parse(localStorage.getItem("movies")),I=s.a.useState([]),Y=Object(j.a)(I,2),Z=Y[0],X=Y[1],W=s.a.useState(!1),K=Object(j.a)(W,2),V=K[0],q=K[1],$=s.a.useState([]),ee=Object(j.a)($,2),te=ee[0],ae=ee[1],ce=s.a.useState([]),se=Object(j.a)(ce,2),ne=se[0],ie=se[1],oe=Object(d.h)(),re=s.a.useState(""),le=Object(j.a)(re,2),je=le[0],de=le[1],he=Object(d.g)(),be=Q();Object(c.useEffect)((function(){a&&fetch("".concat(J,"/users/me"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt")),"Content-Type":"application/json"}}).then(G).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status," : ").concat(e.message))})).then((function(e){g(e)})).catch((function(e){return console.log(e)}))}),[a]),Object(c.useEffect)((function(){var e,t=localStorage.getItem("jwt");t&&(e=t,fetch("".concat(J,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))).then((function(e){e&&(n(!0),he.push(oe.pathname))}))}),[]),Object(c.useEffect)((function(){f(!0),localStorage.getItem("movies")?(f(!1),q(!0)):Promise.all([fetch("".concat("https://api.nomoreparties.co/beatfilm-movies"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status," - ").concat(e.statusText)))}))]).then((function(e){var t=Object(j.a)(e,1)[0];localStorage.setItem("movies",JSON.stringify(t)),f(!1)}))}),[a]);Object(c.useEffect)((function(){a&&fetch("".concat(J,"/movies"),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt")),"Content-Type":"application/json"}}).then(G).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status," : ").concat(e.message))})).then((function(e){f(!0),X(e),ie(e),f(!1)})).catch((function(e){return console.log(e)}))}),[a]);function me(){n(!0)}var ue=function(e){return(t=e,fetch("".concat(J,"/movies/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt")),"Content-Type":"application/json"}}).then(G).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status," : ").concat(e.message))}))).then((function(t){var a=Z.filter((function(t){return t._id!==e}));X(a),ie(a)})).catch((function(e){return console.log(e)}));var t};return Object(b.jsx)(P.Provider,{value:_,children:Object(b.jsxs)("div",{className:"page",children:[Object(b.jsx)(U,{loggedIn:a,handleLoggenIn:me}),Object(b.jsxs)(d.d,{children:[Object(b.jsx)(d.b,{exact:!0,path:"/",component:p,handleLoggenIn:function(){n(!1)}}),Object(b.jsx)(H,{exact:!0,path:"/movies",component:R,handleLoggenIn:me,localStorageMovies:y,loggedIn:a,handleSearch:function(e){M(e.target.value)},search:S,windowWidth:be,savedMovies:Z,handleSaveMovie:function(e){if(console.log(e),e.nameRU!==Z.some((function(e){return e.nameRU})))return function(e){return fetch("".concat(J,"/movies"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))},body:JSON.stringify(e)}).then(G).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status," : ").concat(e.message))}))}(e).then((function(e){X([e].concat(Object(l.a)(Z))),ie([e].concat(Object(l.a)(ne)))})).catch((function(e){return console.log(e)}))},filteredMovies:te,filteredMovieList:te,addFilteredMovie:function(e){ae(e)},isToggle:!1,isLoaded:x,handleRemoveSaveMovie:ue,editMovies:function(){q(!0)},isMovies:V}),Object(b.jsx)(H,{path:"/saved-movies",component:k,handleLoggenIn:me,handleRemoveSaveMovie:ue,savedMovies:Z,loggedIn:a,isToggle:!0,handleSearchSaved:function(e){L(e.target.value)},savedSearch:T,filteredSavedMovieList:ne,updateFilteredSavedMovies:function(e){ie(e)},isLoaded:x}),Object(b.jsx)(H,{path:"/profile",component:E,handleLoggenIn:me,loggedIn:a,handleLogOut:function(){localStorage.removeItem("jwt"),n(!1),he.push("/")},handleChangeUser:function(e,t){var a,c;(a=e,c=t,fetch("".concat(J,"/users/me"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))},body:JSON.stringify({name:a,email:c})}).then(G).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status," - ").concat(e.statusText))}))).then((function(e){g(e),de("\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e!"),setTimeout((function(){de("")}),2500)})).catch((function(e){return console.log(e)}))},messageProfile:je}),Object(b.jsx)(d.b,{exact:!0,path:"/signin",children:Object(b.jsx)(F,{handleLoginUser:function(e,t){(function(e,t){return fetch("".concat(J,"/signin"),{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))},body:JSON.stringify({email:e,password:t})}).then(G).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status," : ").concat(e.message))}))})(e,t).then((function(e){e&&(localStorage.setItem("jwt",e.token),n(!0),he.push("/movies"))})).catch((function(e){return console.log(e)}))}})}),Object(b.jsx)(d.b,{exact:!0,path:"/signup",children:Object(b.jsx)(B,{handleRegisterUser:function(e,t,a){(function(e,t,a){return fetch("".concat(J,"/signup"),{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:a})}).then(G).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status," : ").concat(e.message))}))})(e,t,a).then((function(e){e&&he.push("/signin")})).catch((function(e){console.log(e)}))}})}),Object(b.jsx)(d.b,{path:"*",children:Object(b.jsx)(D,{handleDisableFooter:function(){h(!0)}})})]}),Object(b.jsx)(z,{disableFooter:r})]})})};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(r.a,{children:Object(b.jsx)(X,{})})}),document.getElementById("root")),o()}]),[[57,1,2]]]);
//# sourceMappingURL=main.93ea3606.chunk.js.map